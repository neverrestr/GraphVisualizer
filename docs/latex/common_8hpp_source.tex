\doxysection{common.\+hpp}
\hypertarget{common_8hpp_source}{}\label{common_8hpp_source}\index{src/common/common.hpp@{src/common/common.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{comment}{//\ standard}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <unordered\_set>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string\_view>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <any>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }common\ \{}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{comment}{//\ class\ to\ invert\ graph\ parsing\ (write\ it\ back)}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{class\ }GraphDumpingFactory;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{namespace\ }opt\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ std::uint8\_t\ \mbox{\hyperlink{namespacecommon_1_1opt_a8354d36c2b5baf9b5804afd891485fd8}{drc}}\ =\ 0x01;\ }
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ std::uint8\_t\ \mbox{\hyperlink{namespacecommon_1_1opt_a484782d4f915603b82aafbd9c0bcf272}{wgh}}\ =\ 0x02;\ }
\DoxyCodeLine{00030\ \ \ \ \ \}\ \textcolor{comment}{//\ namespace\ opt}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{enum\ class}\ LexemeType\ :\ std::uint8\_t\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ GRAPH\_START\_LABEL\ =\ 0,\ \ \ \ \ \ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ OPEN\_CURLY\_BRACKET\ =\ 1,\ \ \ \ \ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ NODE\_ID\ =\ 2,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ POINTED\_ARROW\ =\ 3,\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ FLAT\_ARROW\ =\ 4,\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ OPEN\_SQUARE\_BRACKET\ =\ 5,\ \ \ \ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ LABEL\_ATTRIBUTE\ =\ 6,\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ EQUALS\_SIGN\ =\ 7,\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ ATTRIBUTE\_STRING\_VALUE\ =\ 8,\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ ATTRIBUTE\_INT\_VALUE\ =\ 9,\ \ \ \ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ CLOSED\_CURLY\_BRACKET\ =\ 10,\ \ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ CLOSED\_SQUARE\_BRACKET\ =\ 11,\ \ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ ATTRIBUTE\_KEY\ =\ 12,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ WEIGHT\_ATTRIBUTE\ =\ 13,\ \ //\ <-\/-\/\ Добавь\ эту\ строку}}
\DoxyCodeLine{00051\ \ \ \ \ \};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcommon_1_1_lexeme}{Lexeme}}\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ LexemeType\ type;}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ std::any\ value;}
\DoxyCodeLine{00060\ \ \ \ \ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcommon_1_1_connection}{Connection}}\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ std::optional<int>\ weight;\ \textcolor{comment}{//поле\ для\ веса}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ std::optional<std::string>\ label;\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ std::string\ peer;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcommon_1_1_connection}{Connection}}(}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ peer,\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ std::optional<int>\ weight\ =\ std::nullopt,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ std::optional<std::string>\ label\ =\ std::nullopt}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{noexcept};\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcommon_1_1_connection}{Connection}}\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ peer\ ==\ other.peer\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ weight\ ==\ other.weight\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ label\ ==\ other.label;}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ \ \ \ \ \};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcommon_1_1_graph}{Graph}}\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }graph\_flags\_t\ =\ std::uint8\_t;}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }connections\_t\ =\ std::vector<Connection>;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }label\_container\_t\ =\ std::unordered\_map<std::string,\ std::string>;}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }container\_t\ =\ std::unordered\_map<std::string,\ connections\_t>;}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }container\_value\_t\ =\ std::pair<std::string,\ connections\_t>;}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcommon_1_1_graph_aab2936d6a96a6452e7a5b8f1acdd40bb}{\string~Graph}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcommon_1_1_graph_ae329e61736f7e833c523589ab736e9f6}{Graph}}()\ noexcept;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcommon_1_1_graph_aa1296de6a5b9ec40c183ae9674fb21c0}{init}}(graph\_flags\_t\ flags\ =\ 0x0)\ noexcept;}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcommon_1_1_graph_a2e339f9eaa3e5c60ff89a1b8231b8e65}{isDirectional}}()\ const\ noexcept;}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcommon_1_1_graph_a2e737caff1c5049f9eae0455a8448509}{isWeighted}}()\ const\ noexcept;}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcommon_1_1_graph_aa3a6bd7f8a9c690f9b0634073ace2049}{pushNode}}(std::\textcolor{keywordtype}{string}\ name);}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcommon_1_1_graph_ab93ba96b6c30ed0794500e4db02cc75b}{pushEdge}}(std::\textcolor{keywordtype}{string}\ source,\ \mbox{\hyperlink{structcommon_1_1_connection}{Connection}}\ edge);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcommon_1_1_graph_a46d586d17b473fa4be7390821026ec57}{setLabel}}(std::\textcolor{keywordtype}{string}\ source,\ std::\textcolor{keywordtype}{string}\ label);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcommon_1_1_graph_ac954c5b896de092fddec65f69a9e36bc}{removeLabel}}(const\ std::\textcolor{keywordtype}{string}\&\ source);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcommon_1_1_graph_a34d275a23296cd38d04d55f14aa7cd80}{areConnected}}(std::string\_view\ source,\ std::string\_view\ target)\ const;}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ std::optional<\textcolor{keywordtype}{int}>\ \mbox{\hyperlink{classcommon_1_1_graph_a2b4a71cdf34279a6b0df9c6d3f5b62bd}{getWeight}}(std::string\_view\ source,\ std::string\_view\ target)\ const;}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ std::optional<std::\textcolor{keywordtype}{string}>\ \mbox{\hyperlink{classcommon_1_1_graph_a9666b5551e9bfd30add98360a25c2a78}{getLabel}}(std::\textcolor{keywordtype}{string}\ source)\ const;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ std::\textcolor{keywordtype}{string}\ \mbox{\hyperlink{classcommon_1_1_graph_a16d84ad54edd1424e89ef949a5ba34b6}{dumpGraphState}}()\ const;}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ std::vector<std::\textcolor{keywordtype}{string}>\ \mbox{\hyperlink{classcommon_1_1_graph_a6f74a9609071e30c0277ec2c5fc33ef9}{getNodes}}()\ const;}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ friend\ std::ostream\&\ operator<<(std::ostream\&\ os,\ const\ \mbox{\hyperlink{classcommon_1_1_graph}{Graph}}\&\ graph);}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ friend\ \mbox{\hyperlink{classcommon_1_1_graph_dumping_factory}{GraphDumpingFactory}};}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ private:}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ insert(std::string\_view\ source,\ \mbox{\hyperlink{structcommon_1_1_connection}{Connection}}\ edge);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ connections\_t::iterator\ findConnection(std::string\_view\ source,\ std::string\_view\ target)\ const;}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ protected:}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ std::uint8\_t\ flags\_;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ std::unique\_ptr<container\_t>\ connections\_;}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ std::unique\_ptr<label\_container\_t>\ labels\_;}
\DoxyCodeLine{00203\ \ \ \ \ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ std::ostream\&\ operator<<(std::ostream\&\ os,\ const\ \mbox{\hyperlink{classcommon_1_1_graph}{Graph}}\&\ graph);}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \}\ \textcolor{comment}{//\ namespace\ common}}

\end{DoxyCode}
